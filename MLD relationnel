CLIENT(#ID:INT, Nom:VARCHAR, Prenom:VARCHAR, DateDeNaissance:DATE, adresse:VARCHAR, NumeroTel:VARCHAR) 

PERSONNEL(#ID:INT, Nom:VARCHAR, Prenom:VARCHAR, DateDeNaissance:DATE, adresse:VARCHAR, NumeroTel:VARCHAR, Poste:ENUM{'Veto','Assistant'}, Specialites:JSON)

PATIENT(#ID:INT, Nom:VARCHAR, DateDeNaissance:DATE, Taille:ENUM{'Petite','Moyenne'}, NumeroPuceID:VARCHAR, NumeroPasseport:VARCHAR, #Espece=>ESPECE)

MEDICAMENT(#NomMolecule:VARCHAR, Description:VARCHAR, InterditPour:JSON)

ESPECE(#Espece:Varchar)

MESURE(#ID:INT, DateEtHeure:DATETIME, Taille:ENUM('Petite','Moyenne'), Poids:FLOAT, #ID_Patient=>PATIENT)
avec Taille OR Poids, (ID_Patient NOT NULL ET PROJECTION(MESURE,ID_Patient)=PROJECTION(PATIENT,ID))

TRAITEMENT(#ID:INT, DateEtHeure:DATETIME, DateDebut:DATE, Duree:INT, #ID_Patient=>PATIENT)
avec (ID_Patient NOT NULL ET PROJECTION(TRAITEMENT,ID_Patient)=PROJECTION(PATIENT,ID))

RESULTAT_ANALYSE(#ID:INT, DateEtHeure:DATETIME, Resultat:VARCHAR, #ID_Patient=>PATIENT)
avec (ID_Patient NOT NULL ET PROJECTION(RESULTAT_ANALYSE,ID_Patient)=PROJECTION(PATIENT,ID))

OBSERVATION_GENERALE(#ID:INT, DateEtHeure:DATETIME, Observation:VARCHAR, #ID_Patient=>PATIENT, #ID_Personnel=>PERSONNEL)
avec (ID_Patient NOT NULL ET PROJECTION(OBSERVATION_GENERALE,ID_Patient)=PROJECTION(PATIENT,ID)),
(ID_Personnel NOT NULL ET PROJECTION(OBSERVATION_GENERALE,ID_Personnel)=PROJECTION(PERSONNEL,ID))

PROCEDURE(#ID:INT, DateEtHeure:DATETIME, Description:VARCHAR, #ID_Patient=>PATIENT)
avec (ID_Patient NOT NULL ET PROJECTION(PROCEDURE,ID_Patient)=PROJECTION(PATIENT,ID))



REL_PATIENT_CLIENT(#ID_Client=>CLIENT, #ID_Patient=>PATIENT, DateDebut:DATE, DateFin:DATE)
(ID_client NOT NULL ET PROJECTION(REL_PATIENT_CLIENT,ID_Client)=PROJECTION(CLIENT,ID))
(ID_Patient NOT NULL ET PROJECTION(REL_PATIENT_CLIENT,ID_Patient)=PROJECTION(PATIENT,ID))

REL_PATIENT_PERSONNEL(#ID_Personnel=>PERSONNEL, #ID_Patient=>PATIENT, DateDebut:DATE, DateFin:DATE)
(ID_Personnel NOT NULL ET PROJECTION(REL_PATIENT_PERSONNEL,ID_Personnel)=PROJECTION(PERSONNEL,ID))
(ID_Patient NOT NULL ET PROJECTION(REL_PATIENT_PERSONNEL,ID_Patient)=PROJECTION(PATIENT,ID))

REL_TRAITEMENT_MEDICAMENT(#NomMolecule=>MEDICAMENT, #ID_Traitement=>TRAITEMENT, Quantite:INT)
(NomMolecule NOT NULL ET PROJECTION(REL_TRAITEMENT_MEDICAMENT,NomMolecule)=PROJECTION(MEDICAMENT,NomMolecule))
(ID_Traitement NOT NULL ET PROJECTION(REL_TRAITEMENT_MEDICAMENT,ID_Traitement)=PROJECTION(TRAITEMENT,ID))

avec INTERSECTION( PROJECTION(CLIENT,ID), PROJECTION(PERSONNEL,ID) ) = {}



- Quantites de medicaments consommes
R1 = jointure(REL_TRAITEMENT_MEDICAMENT,MEDICAMENT,REL_TRAITEMENT_MEDICAMENT.NomMolecule = MEDICAMENT.NomMolecule)
R2 = projection(R1, NomMolecule, somme(R1.Quantite, groupe par R1.NomMolecule))

- Nombre de traitements
R1 = projection(TRAITEMENT, comptage(TRAITEMENT))

- Nombre de procedures effectuees
R1 = projection(PROCEDURE, comptage(PROCEDURE))

- Nombre de traitements par espece
R1 = jointure(TRAITEMENT, PATIENT, PATIENT.ID = TRAITEMENT.ID_PATIENT)
R2 = projection(R1, R1.Espece, comptage(R1, groupe par R1.Espece))